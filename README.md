# AI狼人杀项目

## 项目概述

AI狼人杀是一个基于人工智能的狼人杀游戏系统，使用大语言模型（LLM）驱动AI玩家进行游戏。该项目提供了完整的游戏框架，包括法官系统、AI玩家提示词模板、角色策略、API管理界面、语音系统集成和游戏界面显示规则等。

## 核心功能

- **法官系统**：严格按照狼人杀规则主持游戏，控制流程和处理行动
- **AI玩家**：基于提示词系统驱动的AI玩家，具有不同性格和策略
- **角色策略**：针对不同角色（狼人、预言家、女巫、平民等）的详细策略指导
- **游戏配置**：支持9人局和12人局的多种板子配置
- **API管理**：灵活的API配置和分配系统
- **语音系统**：集成多种TTS引擎，支持个性化语音
- **界面显示**：完整的游戏界面显示规则和交互逻辑
- **游戏记录**：全程记录游戏过程，支持生成战报和分析

## 目录结构

```
AI-WerewolfGame/
├── src/                  # 源代码目录
│   ├── judge/            # 法官系统
│   ├── player/           # AI玩家系统
│   ├── config/           # 配置管理
│   ├── api/              # API管理
│   ├── voice/            # 语音系统
│   ├── ui/               # 界面系统
│   └── init/             # 初始化系统
├── templates/            # 提示词模板目录
│   ├── judge_prompt.txt  # 法官系统提示词
│   ├── player_prompt.txt # AI玩家通用提示词
│   └── roles/            # 角色策略模板
│       ├── werewolf_strategy.txt    # 狼人策略
│       ├── seer_strategy.txt        # 预言家策略
│       ├── witch_strategy.txt       # 女巫策略
│       └── civilian_strategy.txt    # 平民策略
├── configs/              # 游戏配置文件
│   ├── 9p_standard.json             # 9人标准局配置
│   ├── 12p_wolfking_guard.json      # 12人狼王守卫场配置
│   └── 12p_miracle_merchant.json    # 12人奇迹商人场配置
└── README.md             # 项目说明文档
```

## 快速开始

### 安装依赖

1. 克隆项目到本地
2. 安装必要的依赖包（根据实际使用的AI模型和API）

### 配置游戏

1. **选择游戏模式**：在 `src/init/init_config.json` 中配置游戏模式和板子
2. **配置AI API**：在 `src/api/api_config.json` 中设置API接口和分配规则
3. **配置语音系统**：在 `src/voice/voice_config.json` 中设置语音引擎和参数
4. **配置界面显示**：在 `src/ui/ui_config.json` 中设置界面显示规则

### 启动游戏

1. 运行初始化流程
2. 法官介绍游戏规则
3. 进入第一晚
4. 按照游戏流程进行

## 配置说明

### 游戏配置

- **9人标准局**：3狼人、3平民、1预言家、1女巫、1猎人
- **12人狼王守卫场**：3狼人、1狼王、4平民、1预言家、1女巫、1猎人、1守卫
- **12人奇迹商人场**：4狼人、4平民、1预言家、1女巫、1守卫、1奇迹商人

### AI玩家配置

- **性格类型**：谨慎型、激进型、逻辑型、直觉型、表演型、沉默型
- **策略倾向**：保守、进攻、平衡、随机、学习型
- **发言风格**：根据性格和策略自动调整

### API管理

- **API分配**：支持随机分配、手动指定、按性格匹配、学习模式
- **测试功能**：测试连接、示例响应显示、延迟和稳定性监测

### 语音系统

- **TTS引擎**：支持OpenAI TTS、Azure Speech、Google TTS、自定义引擎
- **语音风格**：根据性格类型自动调整语速、音调、情感强度
- **个性语音**：为不同性格的AI玩家提供匹配的语音风格

## 游戏流程

### 夜晚阶段

1. 法官宣布"天黑请闭眼"
2. 按顺序唤醒角色：狼人→预言家→女巫→守卫→其他特殊角色
3. 记录所有行动结果

### 白天阶段

1. 法官宣布"天亮了，所有人请睁眼"
2. 宣布夜晚结果
3. 第一天：主持警长竞选
4. 组织发言环节
5. 组织投票环节
6. 进入下一夜晚

## 胜利条件

- **好人阵营**：所有狼人出局
- **狼人阵营**：屠边规则 - 所有平民出局或所有神职出局

## 特殊规则

- **双曝吞警徽**：警上发言阶段若有狼人自爆，警徽流失
- **女巫自救**：本局女巫不能自救
- **同守同救**：一名玩家同时被守卫守护和被女巫救，该玩家死亡
- **遗言规则**：通常前两晚死亡的玩家有遗言

## 游戏术语

- **查杀**：预言家查验出狼人并在发言中指出
- **金水**：预言家查验出的好人
- **银水**：女巫用解药救活的玩家
- **铜水**：同时被狼人击杀和守卫守护的玩家
- **上警**：参与警长竞选
- **警徽流**：预言家对警徽的安排
- **自爆**：狼人认狼并翻牌出局使游戏强制进入黑夜
- **归票**：末置位玩家号召放逐某位玩家
- **冲票**：狼人同时放逐某位玩家
- **绑票**：狼人数量大于或等于好人数量时的投票

## 开发指南

### 提示词系统

- **法官提示词**：位于 `templates/judge_prompt.txt`，可根据需要修改规则和流程
- **玩家提示词**：位于 `templates/player_prompt.txt`，可调整性格和策略设定
- **角色策略**：位于 `templates/roles/` 目录，可扩展和优化角色策略

### API集成

- 支持多种大语言模型API
- 可通过 `src/api/api_config.json` 配置API参数
- 支持自定义请求和响应格式

### 语音系统

- 支持多种TTS引擎
- 可通过 `src/voice/voice_config.json` 配置语音参数
- 支持情感分析和个性化语音

## 注意事项

1. 请确保API密钥的安全性
2. 根据实际网络情况调整超时设置
3. 大型游戏可能需要较长时间运行
4. 建议在性能较好的设备上运行

## 许可证

本项目采用MIT许可证。

## 贡献

欢迎提交Issue和Pull Request，共同改进这个AI狼人杀项目。

---

## 版本历史

- v1.0.0：初始版本，支持基本游戏功能

## 联系方式

如有问题或建议，请联系项目维护者。